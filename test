@Echo off
:COMIENZO
CHCP 850
setlocal EnableDelayedExpansion
SET FONDO=5F
color %FONDO%
title Chigüi 4.0
mode con:cols=75 lines=23


:: Hasta acá termina la función que evita líneas duplicadas en el registro
:: ============================================================================================
:: Chequea la existencia de ciertos archivos, y de no existir los crea
if not exist total.txt echo. 2>total.txt
if not exist EnlacesJumpeables.txt echo. 2>EnlacesJumpeables.txt
if not exist ListaNegra.txt echo. 2>ListaNegra.txt
:: ============================================================================================
color %FONDO%
<"pid_ultimo.txt" set /p "PID="
if not defined PID goto BBB

cls
echo.
echo.
echo         ██████╗██╗  ██╗██╗ ██████╗ ██╗   ██╗██╗    ██╗  ██╗    ██████╗ 
echo        ██╔════╝██║  ██║██║██╔════╝ ██║   ██║██║    ██║  ██║   ██╔═████╗
echo        ██║     ███████║██║██║  ███╗██║   ██║██║    ███████║   ██║██╔██║
echo        ██║     ██╔══██║██║██║   ██║██║   ██║██║    ╚════██║   ████╔╝██║
echo        ╚██████╗██║  ██║██║╚██████╔╝╚██████╔╝██║         ██║██╗╚██████╔╝
echo         ╚═════╝╚═╝  ╚═╝╚═╝ ╚═════╝  ╚═════╝ ╚═╝         ╚═╝╚═╝ ╚═════╝ 
echo                             Creado por Rafael Yépez 
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo                               EL ÚLTIMO PID USADO
echo                       ╔══════════════════════════════╗
echo                       ║           %PID%         ║
echo                       ╚══════════════════════════════╝
echo.
echo       PRESIONA ENTER PARA CONTINUAR CON EL PID: %PID%
echo       PRESIONA   0   PARA COLOCAR UN NUEVO PID
echo.
SET /P "OPCION=:                                    "
if not defined OPCION goto ccc
if %OPCION%==0 goto BBB
if not defined OPCION goto ERROR2
set %OPCION%=OPCION
echo !OPCION: =x! | findstr /r "^0$" > nul 2>&1 && (
) || (goto:ERROR2)


:BBB
color %FONDO%
cls
echo.
echo.
echo         ██████╗██╗  ██╗██╗ ██████╗ ██╗   ██╗██╗    ██╗  ██╗    ██████╗ 
echo        ██╔════╝██║  ██║██║██╔════╝ ██║   ██║██║    ██║  ██║   ██╔═████╗
echo        ██║     ███████║██║██║  ███╗██║   ██║██║    ███████║   ██║██╔██║
echo        ██║     ██╔══██║██║██║   ██║██║   ██║██║    ╚════██║   ████╔╝██║
echo        ╚██████╗██║  ██║██║╚██████╔╝╚██████╔╝██║         ██║██╗╚██████╔╝
echo         ╚═════╝╚═╝  ╚═╝╚═╝ ╚═════╝  ╚═════╝ ╚═╝         ╚═╝╚═╝ ╚═════╝ 
echo                             Creado por Rafael Yépez 
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo                             Introduce tu PID
echo            Es necesario para poder llevar registro de los HIGH
echo.
echo                                  TU PID ACÁ:
Set /P "PID=:                                "


:CCC
if not defined PID (goto:ERROR)
echo %PID% | findstr /r "^...........$" > nul 2>&1 && (
REM	...
) || (goto:ERROR)

:INICIO
echo %PID%>pid_ultimo.txt
:Encuestas

SET PSID=
SET BASIC=
SET HIGHT=
SET a=
SET b=

powershell "$InputFile = 'EnlacesJumpeables.txt' ; $content = Get-Content $InputFile ;  $content | Foreach {$_.TrimEnd()} | Set-Content EnlacesJumpeables2.txt"
if exist EnlacesJumpeables2.txt del EnlacesJumpeables.txt & rename EnlacesJumpeables2.txt EnlacesJumpeables.txt

PowerShell -NoP "(GC 'EnlacesJumpeables.txt') -Replace ' |\t',''|SC 'EnlacesJumpeablesSinEspacios.txt'"
if exist EnlacesJumpeablesSinEspacios.txt del EnlacesJumpeables.txt & rename EnlacesJumpeablesSinEspacios.txt EnlacesJumpeables.txt

PowerShell -NoP "(GC 'RegistroHigh.txt') -Replace '  |\t',' '|SC 'RegistroHigh2.txt'"
if exist RegistroHigh2.txt del RegistroHigh.txt & rename RegistroHigh2.txt RegistroHigh.txt

:: =======================================================================================================================================
:: CONTADOR DE LÍNEAS PARA MOSTRAR LOS JUMP, BAISC, HIGH REGISTRADOS
set "cmd=findstr /R /N "^^" EnlacesJumpeables.txt | find /C ":""					& for /f %%A in ('!cmd!') do set number=%%A
:: =======================================================================================================================================
:: Código en PowerShell insertado en el mismo batch para poder contar la cantidad de dólares acumulados y que sume decimales
::PowerShell ForEach ($n in Get-Content .\total.txt) { [Double]$total += $n }; Write-Host $total ;> f.txt

For /F "delims=" %%Y In ('PowerShell -Command "ForEach ($n in Get-Content .\total.txt) { [Double]$total += $n }; Write-Host $total ;"') Do Set "DOLARES=%%Y"
:: ========================================================================================================================================
SET PSID=%ENLACE:~49,5%
color %FONDO%
cls
echo.
echo.
echo         ██████╗██╗  ██╗██╗ ██████╗ ██╗   ██╗██╗    ██╗  ██╗    ██████╗ 
echo        ██╔════╝██║  ██║██║██╔════╝ ██║   ██║██║    ██║  ██║   ██╔═████╗
echo        ██║     ███████║██║██║  ███╗██║   ██║██║    ███████║   ██║██╔██║
echo        ██║     ██╔══██║██║██║   ██║██║   ██║██║    ╚════██║   ████╔╝██║
echo        ╚██████╗██║  ██║██║╚██████╔╝╚██████╔╝██║         ██║██╗╚██████╔╝
echo         ╚═════╝╚═╝  ╚═╝╚═╝ ╚═════╝  ╚═════╝ ╚═╝         ╚═╝╚═╝ ╚═════╝ 
echo                             Creado por Rafael Yépez 
echo			 PID ACTUAL: %PID%   Último PSID: %ID%
echo     ═══════════════════════════════════════════════════════════════════
echo. 		
echo     			TOTAL LINKS JUMPEABLES : %number%     	
echo	   			TOTAL DÓLARES GENERADOS: %DOLARES%$
echo.
echo.	    
echo     ═══════════════════════════════════════════════════════════════════
echo.


:IntroduceEnlace
echo                    Introduce el enlace de la encuesta:
Set  /P  "ENLACE= "
set ENLACE=%ENLACE: =%

:BlackList
SET id=%ENLACE:~49,5%
find "%id%" ListaNegra.txt>block

if %errorlevel% equ 0 goto 6
if exist block del block

:PSID
color %FONDO%
SET PSID=%ENLACE:~49,22%
cls & Echo. & echo . |set /p="%PSID%"| CLIP & Echo. & cls



:HIGH
SET id=%ENLACE:~49,5%
curl -s --connect-timeout 60 -d "username=584120528517&password=nomeselaclave..&form_submission=login" --cookie-jar ./cookie -X POST http://eldeposito.net/admin/includes/process.php
curl -s --cookie ./cookie -d "HIGHconsulta=%PSID:~0,5%&userpid=%PID%" -X POST http://eldeposito.net/app/search_high.php>high_
powershell (Get-Content high_)[14]>high2
powershell (Get-Content -path 'high2' -Raw) -replace ' ','' -replace 't','' -replace 'd','' -replace '/','' -replace '\074','' -replace '\076','' -replace '\n','' -replace '\r','' -replace '\t','' -replace '\\r\n',''>high
<"high" set /p "HIGH="

(Call :SiHayHigh high && (
    Echo ACÁ HAY UN HIGH
)) || (
    Echo NO SE ENCONTRÓ HIGH
)

:SiHayHigh
If %~z1 EQU 0 (goto Basic) Else (goto Wiwachure)


:Wiwachure
SET PSID=%ENLACE:~49,5%
echo %HIGH% >high.txt 2>&1
findstr /m "Nosepueeinizarenunamariznula" high.txt >Nul

if %errorlevel%==0 (
goto Error7
)

if %errorlevel%==1 (
goto Wiwachure2
)

:Wiwachure2
findstr /m "Debes" high_ >Nul

if %errorlevel%==0 (
goto Error7
)

if %errorlevel%==1 (
goto SiguienteYa
)

pause





:SiguienteYa
echo %PID% >>pid.txt 2>&1 
echo %PSID%>>psid.txt 2>&1 
Echo . |set /p="Get-Content pid.txt | Foreach-Object{ ; $PIDX = $_.Split('=')[0] ; Get-Content high.txt | Foreach-Object{ ; $HIGH = $_.Split('=')[0] ; Get-Content psid.txt | Foreach-Object{ ; $PSID = $_.Split('=')[0] }}} ; $A = $HIGH / $PIDX ; $C = ($A * $PIDX) - $HIGH ; $A = [math]::Round($A) ; $C = [math]::Round($B) ; $B = ($A * $PIDX) - $HIGH ; "$PSID $A $B" | Out-File RegistroHigh.txt -Encoding ascii -append ;">>high.ps1 2>&1 
Powershell.exe -executionpolicy remotesigned -File  high.ps1

cls
color F4
SET id=%ENLACE:~49,5%
echo.
echo. 
echo               ██╗ ██╗  ██╗██╗   ██╗██████╗ ██████╗  █████╗  ██╗
echo               ╚═╝ ██║  ██║██║   ██║██╔══██╗██╔══██╗██╔══██╗ ██║
echo               ██║ ███████║██║   ██║██████╔╝██████╔╝███████║ ██║
echo               ██║ ██╔══██║██║   ██║██╔══██╗██╔══██╗██╔══██║ ╚═╝
echo               ██║ ██║  ██║╚██████╔╝██║  ██║██║  ██║██║  ██║ ██╗
echo               ╚═╝ ╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═╝
echo                                 HIGH - ELDEPOSITO
echo     ═══════════════════════════════════════════════════════════════════
echo                   TU PSID: %id% está registrado en eldeposito
echo               Te he generado un enlace High y ya está guardado
echo.
echo     En caso que necesites calificar esta encuesta
echo     Luego de registrarla generaré un enlace calificador.
echo.


echo     PRESIONA 1... Si quieres Calificarla y registrar el link
echo     PRESIONA 2... Si quieres Descalificarla y evitar registro
echo     PRESIONA 3... Si quieres Cambiar el PID actual %PID%


Set /P "menup=:                                     "

if %menup%==1 goto continuarC
if %menup%==2 goto 5
if %menup%==3 goto CambiarPID

:continuarC
SET PSID=%ENLACE:~49,22%
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                   "
Echo. & echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=4&psid=%PSID%**" | CLIP
set hora=%time:~0,5%
Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&high=%HIGH%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1
SET id=%ENLACE:~49,5%
echo. >> EnlacesJumpeables.txt 2>&1
echo %TOTAL% >>total.txt 2>&1
goto Encuestas


:BASIC

curl -s --cookie ./cookie -d "GLOconsulta=%PSID:~0,5%" -X POST http://eldeposito.net/app/search.php>basic_
powershell (Get-Content basic_)[11]>basic2 
powershell (Get-Content -path 'basic2' -Raw) -replace ' ','' -replace 't','' -replace 'd','' -replace '/','' -replace '\074','' -replace '\076','' -replace '\n','' -replace '\r','' -replace '\t','' -replace '\\r\n',''>basic 
<"basic" set /p "BASIC="
find "^" "basic"

(Call :SiHayBasic basic && (
    Echo ACÁ HAY UN BASIC
)) || (
    Echo NO SE ENCONTRÓ BASIC
)


:SiHayBasic
If %~z1 EQU 0 (goto Menu) Else (goto Wiwachu)


:Wiwachu
if [%BASIC%]==[] goto Error7
SET id=%ENLACE:~49,5%

cls
color F4
SET id=%ENLACE:~49,5%
echo.
echo. 
echo               ██╗ ██╗  ██╗██╗   ██╗██████╗ ██████╗  █████╗  ██╗
echo               ╚═╝ ██║  ██║██║   ██║██╔══██╗██╔══██╗██╔══██╗ ██║
echo               ██║ ███████║██║   ██║██████╔╝██████╔╝███████║ ██║
echo               ██║ ██╔══██║██║   ██║██╔══██╗██╔══██╗██╔══██║ ╚═╝
echo               ██║ ██║  ██║╚██████╔╝██║  ██║██║  ██║██║  ██║ ██╗
echo               ╚═╝ ╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═╝
echo                              BASIC - ELDEPOSITO
echo     ═══════════════════════════════════════════════════════════════════
echo                  TU PSID: %id% está registrado en eldeposito
echo               Te he generado un enlace Basic y ya está guardado
echo.
echo     En caso que necesites calificar esta encuesta
echo     Luego de registrarla generaré un enlace calificador.
echo.

echo     PRESIONA 1... Si quieres Calificarla y registrar el link
echo     PRESIONA 2... Si quieres Descalificarla y evitar registro
echo     PRESIONA 3... Si quieres Cambiar el PID actual %PID%

SET PSID=%ENLACE:~49,5%
Set /P "menup=:                                     "

if %menup%==1 goto continuar2
if %menup%==2 goto 5
if %menup%==3 goto CambiarPID


:continuar2
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?

Set /P "TOTAL=:                                 "
SET PSID=%ENLACE:~49,22%
Echo. & echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=4&psid=%PSID%**" | CLIP
set hora=%time:~0,5%
Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&basic=%BASIC%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1
echo. >> EnlacesJumpeables.txt 2>&1
echo %TOTAL% >>total.txt 2>&1
goto Encuestas




:Menu
color %FONDO%

cls
Echo.
Echo.
echo                          ╔═══════════════════════╗
echo                          ║         %ID%         ║
echo                          ╚═══════════════════════╝
echo.
echo         Esta encuesta no se encuentra en nuestros registros
echo         internos ni está en Eldeposito.net
echo.
echo         Pero puedes...
echo.
echo         1 - Registrar BASIC (Si la haces manual)
echo         2 - Registrar HIGH  (Si la haces manual)
echo         3 - Generar MED (si la encuesta tiene K2)
echo         4 - Copia en el portapapeles enlace CALIFICADOR
echo         5 - Copia en el portapapeles enlace DECALIFICADOR
echo         0 - Guardar el enlace en los registros huerfanas.txt
echo.

echo            Selecciona el número de opción deseada:
Set /P "menup=:                                     "


if %menup%==1 goto 1
if %menup%==2 goto 2
if %menup%==3 goto 3
if %menup%==4 goto 4
if %menup%==5 goto 5
if %menup%==6 goto 6
if %menup%==0 goto X
if not defined menup goto:ERROR4
echo !menup: =x! | findstr /r "^012345$" > nul 2>&1 && (
echo. Correcto, 10
) || (goto:ERROR4)

:1
color 4F
SET id=%ENLACE:~49,5%
cls
echo.
echo.
echo                      ██████╗  █████╗ ███████╗██╗ ██████╗
echo                      ██╔══██╗██╔══██╗██╔════╝██║██╔════╝
echo                      ██████╔╝███████║███████╗██║██║     
echo                      ██╔══██╗██╔══██║╚════██║██║██║     
echo                      ██████╔╝██║  ██║███████║██║╚██████╗
echo                      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝ ╚═════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  Introduce tu BASIC generado en eldeposito
Set /P "BASIC=:                                 "
if not defined BASIC goto ERROR3
echo %BASIC% | findstr /r "^......$" > nul 2>&1 && (
	echo Correcto, 6
) || (goto:ERROR3)

SET PSID=%ENLACE:~49,5%
echo %PSID% %BASIC%>> RegistroBasic.txt 2>&1
curl "https://api.telegram.org/bot1357789906:AAHFi_sJl_xxaVQedWTOlqXSbtg16qfag7M/sendMessage?chat_id=-1001486268454&text=%PSID% %BASIC%"
SET PSID=%ENLACE:~49,22%
cls & Echo Enlace generado & echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=4&psid=%PSID%**" | CLIP & CLS & 

color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                   "
echo %TOTAL% >>total.txt 2>&1
set hora=%time:~0,5%
SET PSID=%ENLACE:~49,5%
cls & Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&basic=%BASIC%#%id%_HORA_%HORA%_TOTAL_%TOTAL%" >>EnlacesJumpeables.txt 2>&1
echo.>> EnlacesJumpeables.txt 2>&1
goto Encuestas

:2
color 6F
cls
echo.
echo.
echo                        ██╗  ██╗██╗ ██████╗ ██╗  ██╗
echo                        ██║  ██║██║██╔════╝ ██║  ██║
echo                        ███████║██║██║  ███╗███████║     
echo                        ██╔══██║██║██║   ██║██╔══██║     
echo                        ██║  ██║██║╚██████╔╝██║  ██║
echo                        ╚═╝  ╚═╝╚═╝ ╚═════╝ ╚═╝  ╚═╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  Introduce tu HIGH generado en eldeposito
Set /P "HIGH=:                            "
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                  "
set hora=%time:~0,5%
cls & Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&high=%HIGH%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1 & cls
echo.>> EnlacesJumpeables.txt 2>&1
SET PSID=%ENLACE:~49,22%
cls & Echo Enlace generado & echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=4&psid=%PSID%**" | CLIP & CLS
echo %TOTAL% >>total.txt 2>&1
echo %HIGH% >>high.txt 2>&1 
echo %PID% >>pid.txt 2>&1 
echo %PSID%>>psid.txt 2>&1 
Echo . |set /p="Get-Content pid.txt | Foreach-Object{ ; $PIDX = $_.Split('=')[0] ; Get-Content high.txt | Foreach-Object{ ; $HIGH = $_.Split('=')[0] ; Get-Content psid.txt | Foreach-Object{ ; $PSID = $_.Split('=')[0] }}} ; $A = $HIGH / $PIDX ; $C = ($A * $PIDX) - $HIGH ; $A = [math]::Round($A) ; $C = [math]::Round($B) ; $B = ($A * $PIDX) - $HIGH ; "$PSID $A $B" | Out-File RegistroHigh.txt -Encoding ascii -append ;">>high.ps1 2>&1 
Powershell.exe -executionpolicy remotesigned -File  high.ps1
del "high.txt" /s /f /q
del "pid.txt" /s /f /q
del "psid.txt" /s /f /q
del "high.ps1" /s /f /q
curl "https://api.telegram.org/bot1293517955:AAErUdTwte1ccnuxbP5oM42PuoIQiSNkMqY/sendMessage?chat_id=-1001431061672&text=%PSID% %A% %B%"


goto Encuestas

:3
color %FONDO%
cls
echo.
echo.
echo         ██████╗██╗  ██╗██╗ ██████╗ ██╗   ██╗██╗    ██████╗     ██████╗ 
echo        ██╔════╝██║  ██║██║██╔════╝ ██║   ██║██║    ╚════██╗   ██╔═████
echo        ██║     ███████║██║██║  ███╗██║   ██║██║     █████╔╝   ██║██╔██║
echo        ██║     ██╔══██║██║██║   ██║██║   ██║██║    ██╔═══╝    ████╔╝██║
echo        ╚██████╗██║  ██║██║╚██████╔╝╚██████╔╝██║    ███████╗██╗╚██████╔╝
echo         ╚═════╝╚═╝  ╚═╝╚═╝ ╚═════╝  ╚═════╝ ╚═╝    ╚══════╝╚═╝ ╚═════╝ 
echo                             Creado por Rafael Yépez
echo     ═══════════════════════════════════════════════════════════════════
echo       Te voy a generar un enlace MED, partiendo del PID: %PID%
echo.
echo       Q - Qualtrics
echo       C - Csurvey
echo       N - NRG
echo       M - MCG
echo       X - Para cambiar de PID
echo.  
echo   Selecciona la letra equivalente a la encuesta MED (K2) que te tocó:
Set /P "menup=:                                  "

if %menup%==Q goto Q
if %menup%==q goto Q
if %menup%==C goto C
if %menup%==c goto C
if %menup%==N goto N
if %menup%==n goto N
if %menup%==M goto M
if %menup%==m goto M
if %menup%==x goto 6
if %menup%==X goto 6

if not defined menup goto:ERROR5
echo !menup: =x! | findstr /r "^QqCcNnMmXx$$" > nul 2>&1 && (
echo. Correcto, 10
) || (goto:ERROR5)

:Q
color %FONDO%
REM Qualtrics
cls
SET PIDX=%PID:~0,10%
Set /P "K2=Coloca aquí tu K2 de tu encuesta Qualtrics: "
PowerShell %PIDX% * 15030 - %K2%> MED.txt
<"MED.txt" set /p "MED="
del MED.txt
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                     "
echo %TOTAL% >>total.txt 2>&1
set hora=%time:~0,5%
cls & Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&med=%MED%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1
echo. >> EnlacesJumpeables.txt 2>&1
goto Encuestas

:C
color %FONDO%
REM Csurvey
cls
SET PIDX=%PID:~0,10%
Set /P "K2=Coloca aquí tu K2 de tu encuesta Csurvey: "
PowerShell %PIDX% * 80151 - %K2%> MED.txt
<"MED.txt" set /p "MED="
del MED.txt
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                     "
set hora=%time:~0,5%
cls & Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&med=%MED%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1
echo. >> EnlacesJumpeables.txt 2>&1
echo %TOTAL% >>total.txt 2>&1
goto Encuestas

:N
color %FONDO%
REM NRG
cls
SET PIDX=%PID:~0,10%
Set /P "K2=Coloca aquí tu K2 de tu encuesta NRG: "
PowerShell %PIDX% * 30349 - %K2%> MED.txt 
<"MED.txt" set /p "MED="
del MED.txt
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                     "
set hora=%time:~0,5%
cls & Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&med=%MED%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1
echo. >> EnlacesJumpeables.txt 2>&1
echo %TOTAL% >>total.txt 2>&1
goto Encuestas

:M
color %FONDO%
REM MCG
cls
SET PIDX=%PID:~0,10%
Set /P "K2=Coloca aquí tu K2 de tu encuesta MCG: "
PowerShell %PIDX% * 11327 - %K2%> MED.txt 
<"MED.txt" set /p "MED="
del MED.txt
color 2F
cls
echo.
echo.                      
echo          ██████╗  ██████╗ ██╗      █████╗ ██████╗ ███████╗███████╗
echo          ██╔══██╗██╔═══██╗██║     ██╔══██╗██╔══██╗██╔════╝██╔════╝
echo          ██║  ██║██║   ██║██║     ███████║██████╔╝█████╗  ███████╗
echo          ██║  ██║██║   ██║██║     ██╔══██║██╔══██╗██╔══╝  ╚════██║
echo          ██████╔╝╚██████╔╝███████╗██║  ██║██║  ██║███████╗███████║
echo          ╚═════╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo.
echo                  ¿De cuántos dólares era la encuesta?
Set /P "TOTAL=:                                     "
set hora=%time:~0,5%
cls & Echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=1&psid=%PSID%**&med=%MED%#%id%_HORA_%HORA%_TOTAL_%TOTAL%">>EnlacesJumpeables.txt 2>&1
echo. >> EnlacesJumpeables.txt 2>&1
echo %TOTAL% >>total.txt 2>&1
goto Encuestas

:4
cls
SET PSID=%ENLACE:~49,22%
echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=4&psid=%PSID%**" | CLIP & goto Encuestas

:5
cls
SET PSID=%ENLACE:~49,22%
echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=2&psid=%PSID%**" | CLIP & goto Encuestas

:6
if exist block del block
cls
SET PSID=%ENLACE:~49,22%
echo . |set /p="https://dkr1.ssisurveys.com/projects/end?rst=2&psid=%PSID%**" | CLIP & goto Error6

:CambiarPID
<"pid_ultimo.txt" set /p "PID="
color %FONDO%
cls
echo.
echo.
echo         ██████╗██╗  ██╗██╗ ██████╗ ██╗   ██╗██╗    ██████╗     ██████╗ 
echo        ██╔════╝██║  ██║██║██╔════╝ ██║   ██║██║    ╚════██╗   ██╔═████╗
echo        ██║     ███████║██║██║  ███╗██║   ██║██║     █████╔╝   ██║██╔██║
echo        ██║     ██╔══██║██║██║   ██║██║   ██║██║     ╚═══██╗   ████╔╝██║
echo        ╚██████╗██║  ██║██║╚██████╔╝╚██████╔╝██║    ██████╔╝██╗╚██████╔╝
echo         ╚═════╝╚═╝  ╚═╝╚═╝ ╚═════╝  ╚═════╝ ╚═╝    ╚═════╝ ╚═╝ ╚═════╝ 
echo                             Creado por Rafael Yépez 
echo.
echo     ═══════════════════════════════════════════════════════════════════
echo                       Tu anterior PID era %PID%
echo.
echo.
echo                          INTRODUCE EL NUEVO PID
echo.
Set /P "PID=:                               "
if not defined PID (goto:ERROR8)
echo %PID% | findstr /r "^...........$" > nul 2>&1 && (
REM	echo. Correcto, 10
) || (goto:ERROR8)


echo %PID%>pid_ultimo.txt
if exist block del block
cls
goto :PSID

pause

:ERROR
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO                  DEBES DEFIIR UN PID PARA PODER CONTINUAR
ECHO                       El PID debe ser de 10 Dígitos
PAUSE
GOTO COMIENZO

:ERROR2
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO                       SELECCIONA UNA OPCIÓN VÁLIDA
ECHO          Debes seleccionar el número correspondiente a la opción.
PAUSE
GOTO COMIENZO

:ERROR3
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO                   POR FAVOR, COLOCA EL BASIC CORRECTAMENTE
ECHO     En esta opción debes colocar el basic que es un número de 5 dígitos
ECHO                                        
PAUSE
GOTO COMIENZO

:ERROR4
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO                       SELECCIONA UNA OPCIÓN VÁLIDA
ECHO          Debes seleccionar el número correspondiente a la opción.
ECHO                                        
PAUSE
GOTO Menu

:ERROR5
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO                       SELECCIONA UNA OPCIÓN VÁLIDA
ECHO          Debes seleccionar el número correspondiente a la opción.
ECHO                                        
PAUSE
GOTO 3

:Error6
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO             EL PSID %id% se encuentra en la lista negra
ECHO   Se ha copiado el enlace descalificador para que no hagas esa encuesta.
ECHO.                                        
PAUSE
GOTO Encuestas

:Error7
del high.txt
del high
del high_
del high2
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO       EL PSID %id% tiene un valor nulo, intenta nuevamente consultarlo
ECHO.  
ECHO.                                        
PAUSE
GOTO Encuestas

:Error8
del high.txt
del high
del high_
del high2
cls
color 4F
cls
echo.
echo.
echo                    ███████╗██████╗ ██████╗  ██████╗ ██████╗ 
echo                    ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo                    █████╗  ██████╔╝██████╔╝██║   ██║██████╔╝
echo                    ██╔══╝  ██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo                    ███████╗██║  ██║██║  ██║╚██████╔╝██║  ██║
echo                    ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝  
echo.
echo     ═══════════════════════════════════════════════════════════════════
ECHO         Por favor coloca un PID válido, debe tener 10 dígitos
ECHO.  
ECHO.                                        
PAUSE
GOTO CambiarPID


:X
cls
cls & Echo . |set /p="%ENLACE%">> huerfanas.txt 2>&1
echo. >>huerfanas.txt 2>&1 
goto Encuestas
pause


:Play <sound>
set "_vbs=%tmp%\%~n0.vbs"
(
echo Play "%~1"
echo Sub Play(URL^)
echo    Dim Sound
echo    Set Sound = CreateObject("WMPlayer.OCX"^)
echo    Sound.URL = URL
echo    Sound.settings.volume = 100
echo    Sound.Controls.play
echo    do while Sound.currentmedia.duration = 0
echo        wscript.sleep 10
echo    loop
echo    wscript.sleep (int(Sound.currentmedia.duration^)+1^)*650
echo End Sub
)>"%_vbs%"
cscript /nologo "%_vbs%"



